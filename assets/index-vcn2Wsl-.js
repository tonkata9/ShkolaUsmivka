(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const r of e.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function i(t){if(t.ep)return;t.ep=!0;const e=n(t);fetch(t.href,e)}})();const d=document.getElementById("hamburger"),u=document.getElementById("mobileMenu"),m=document.getElementById("year");m&&(m.textContent=new Date().getFullYear().toString());d&&u&&d.addEventListener("click",()=>{const o=u.classList.toggle("open");d.setAttribute("aria-expanded",o?"true":"false")});const f=Array.from(document.querySelectorAll(".nav a")),g=window.location.pathname.replace(/\/$/,"/index.html");f.forEach(o=>{const n=o.getAttribute("href");if(!n)return;const i=n==="/"?"/index.html":n;g.endsWith(i)&&o.classList.add("active")});const a=document.getElementById("contactForm");a&&a.addEventListener("submit",o=>{o.preventDefault();const n=new FormData(a),i=(n.get("name")||"").toString().trim(),t=(n.get("email")||"").toString().trim(),e=(n.get("phone")||"").toString().trim(),r=(n.get("course")||"").toString().trim(),c=(n.get("message")||"").toString().trim(),s=document.getElementById("formMsg");if(!t&&!e){s&&(s.textContent="Моля, въведете имейл или телефон.");return}fetch("http://localhost:5174/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,email:t,phone:e,course:r,message:c})}).then(async l=>{if(!l.ok)throw new Error(await l.text());s&&(s.textContent="Благодарим! Запитването е изпратено."),a.reset()}).catch(l=>{s&&(s.textContent="Възникна грешка при изпращане. Опитайте отново."),console.error(l)})});
