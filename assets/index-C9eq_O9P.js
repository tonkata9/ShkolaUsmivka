(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(e){if(e.ep)return;e.ep=!0;const n=i(e);fetch(e.href,n)}})();const m=document.getElementById("hamburger"),d=document.getElementById("mobileMenu"),u=document.getElementById("year");u&&(u.textContent=new Date().getFullYear().toString());m&&d&&m.addEventListener("click",()=>{const o=d.classList.toggle("open");m.setAttribute("aria-expanded",o?"true":"false")});const f=Array.from(document.querySelectorAll(".nav a")),g=window.location.pathname.replace(/\/$/,"/index.html");f.forEach(o=>{const t=o.getAttribute("href");if(!t)return;const i=t==="/"?"/index.html":t;g.endsWith(i)&&o.classList.add("active")});const l=document.getElementById("contactForm");l&&l.addEventListener("submit",o=>{o.preventDefault();const t=new FormData(l),i=(t.get("name")||"").toString().trim(),s=(t.get("email")||"").toString().trim(),e=(t.get("phone")||"").toString().trim(),n=(t.get("course")||"").toString().trim(),c=(t.get("message")||"").toString().trim(),r=document.getElementById("formMsg");if(!s&&!e){r&&(r.textContent="Моля, въведете имейл или телефон.");return}fetch("http://localhost:5174/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,email:s,phone:e,course:n,message:c})}).then(async a=>{if(!a.ok)throw new Error(await a.text());r&&(r.textContent="Благодарим! Запитването е изпратено."),l.reset()}).catch(a=>{r&&(r.textContent="Възникна грешка при изпращане. Опитайте отново."),console.error(a)})});
